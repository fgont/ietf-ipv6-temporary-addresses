



IPv6 maintenance Working Group (6man)                            F. Gont
Internet-Draft                                    SI6 Networks / UTN-FRH
Updates: RFC4941 (if approved)                                    W. Liu
Intended status: Standards Track                     Huawei Technologies
Expires: September 13, 2017                                   C. Huitema
                                                    Private Octopus Inc.
                                                          March 12, 2017


         Recommendation on Temporary IPv6 Interface Identifiers
                   draft-gont-6man-non-stable-iids-01

Abstract

   This document clarifies the stability requirements for IP6 addresses,
   and provides recommendations regarding the generation of Temporary
   addresses.  Finally, it formally updates RFC4941 such that nodes are
   allowed to configure only temporary addresses.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on September 13, 2017.

Copyright Notice

   Copyright (c) 2017 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of



Gont, et al.           Expires September 13, 2017               [Page 1]

Internet-Draft           Temporary Interface-IDs              March 2017


   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Terminology . . . . . . . . . . . . . . . . . . . . . . . . .   2
   3.  Problem statement . . . . . . . . . . . . . . . . . . . . . .   3
   4.  Generation of Temporary IPv6 Addresses  . . . . . . . . . . .   5
   5.  Update to existing RFCs . . . . . . . . . . . . . . . . . . .   6
   6.  Future Work . . . . . . . . . . . . . . . . . . . . . . . . .   6
   7.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   6
   8.  Security Considerations . . . . . . . . . . . . . . . . . . .   6
   9.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   6
   10. References  . . . . . . . . . . . . . . . . . . . . . . . . .   6
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   8

1.  Introduction

   IPv6 StateLess Address AutoConfiguration (SLAAC) [RFC4862] has
   traditionally resulted in stable addresses, since the Interface
   Identifier (IID) has been generated by embedding a stable layer-2
   numeric identifier (e.g., a MAC address).  [RFC4941] implies,
   throughout the specification, that temporary addresses are generated
   and employed along with temporary addresses.

   While the use of stable addresses (only) or mixed stable and
   temporary addresses can be desirable in a number of scenarios, there
   are other scenarios in which, for security and privacy reasons, a
   node may want to use only Temporary address (e.g., a temporary
   address).

   This document clarifies the requirements for stability of IPv6
   addresses, such that nodes are not required to configure stable
   addresses.  It also specifies a set of requirements for the
   generation of Temporary addresses.  Finally, it formally updates
   [RFC4941] such that temporary addresses can be employed without the
   need to configure a stable address along side.

2.  Terminology

   This document employs the terms defined in [RFC7721].

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [RFC2119].





Gont, et al.           Expires September 13, 2017               [Page 2]

Internet-Draft           Temporary Interface-IDs              March 2017


3.  Problem statement

   When [RFC4941] was written, its authors wanted to prevent privacy and
   security attacks enabled by the inclusions in addresses of "an
   embedded interface identifier, which remains constant over time."
   They observed that "Anytime a fixed identifier is used in multiple
   contexts, it becomes possible to correlate seemingly unrelated
   activity using this identifier."  They were concerned with both on-
   path attackers who would observe the IP addresses of packets observed
   in transit, and attackers that would have access to the logs of
   servers.

   Since the publication of [RFC4941] in September 2007, our
   understanding of threats and mitigations has evolved.  We are now
   concerned with Pervasive Monitoring [RFC7258], as well as the wide
   spread collection of information for advertising and other purposes,
   for example through the Real Time Bidding protocol used for
   advertising auctions [RTB25].

3.1.  Privacy requirements

   The widespread deployment of encryption advocated in [RFC7624] is a
   response to Pervasive Monitoring.  Encryption of communication
   reduces the amount of information that can be collected by monitoring
   data links, but does not prevent monitoring of IPv6 addresses
   embedded in clear text packet headers.  Stable IPv6 addresses enable
   the correlation of such data over time.

   MAC Address Randomization [IETFMACRandom] is another response to
   pervasive monitoring.  In conjunction with DHCP Anonymity [RFC7844],
   it ensures that devices cannot be tracked by their MAC Address or
   their DHCP identifiers when they connect to "hot spots".  However,
   the privacy effects of MAC Address Randomization would be nullified
   if a device kept using the same IPv6 address before and after a
   randomization event.

   Many Web Browsers have options enabling browsing "in private".
   However, if the web connections during the private mode use the same
   IPv6 address as those in the public mode, web tracking systems
   similar to [RTB25] will quickly find the correlation between the
   public personna of the user and the supposedly private connection.
   Similarly, many web browsers have options to "delete history",
   including deleting "cookies" and other persistent data.  Again, if
   the same IPv6 address is used before and after the deletion of
   cookies, web tracking systems will easily correlate the new activity
   with the prior data collection.





Gont, et al.           Expires September 13, 2017               [Page 3]

Internet-Draft           Temporary Interface-IDs              March 2017


   Using temporary address alone may not be sufficient to prevent all
   forms of tracking.  It is however quite clear that some usage of
   temporary addresses is necessary to provide user privacy.  It is also
   clear that the usage of temporary addresses needs to be synchronized
   with other privacy defining event such as moving to a new network,
   performing MAC Address Randomization, or changing the privacy posture
   of a node.

3.2.  Stability Requirements for IPv6 Addresses

   Nodes are not required to generate addresses with any specific
   stability properties.  That is, the generation of stable addresses is
   OPTIONAL.  This means that a node may end up configuring only stable
   addresses, only Temporary, or both stable and non-stable addresses.

3.3.  Requirements for Temporary IPv6 Addresses

   The requirements for temporary IPv6 addresses are as follows:

   1.  The resulting Interface Identifiers MUST be different when
       addresses are configured for different prefixes.  That is, if
       different autoconfiguration prefixes are used to configure
       addresses for the same network interface card, the resulting
       Interface Identifiers must be (statistically) different.  This
       means that, given two addresses, it must be difficult for an
       outside entity to tell whether the addresses have been generated
       by the same host.

   2.  The resulting interface identifiers MUST NOT embed layer-2
       identifiers (e.g.  MAC addresses).

   3.  It must be difficult for an outside entity to predict the
       Interface Identifiers that will be generated by the algorithm,
       even with knowledge of the Interface Identifiers generated for
       configuring other addresses.

   4.  The resulting Interface Identifiers must be semantically opaque
       and must not follow any specific patterns.

   The IIDs of addresses configured for different autoconfiguration
   prefixes must be different, such that traffic for those addresses
   cannot be correlated.

   The reuse of identifiers that have their own semantics or properties
   across different contexts or scopes can be detrimental for security
   and privacy [I-D.gont-predictable-numeric-ids] [RFC6973] [RFC4941].
   For example, if two different layer-3 protocols generate their
   addresses by embedding a layer-2 identifier (e.g., a MAC address),



Gont, et al.           Expires September 13, 2017               [Page 4]

Internet-Draft           Temporary Interface-IDs              March 2017


   then the traffic for such protocols could be correlated (irrespective
   of whether the aforementioned layer-2 identifier has been randomized
   or not).  Besides, a node that generates an IPv6 address by embedding
   a link-layer address in the IPv6 address will, when configuring
   addresses for different prefixes, result in the same IID being used
   for such prefixes, thus allowing the corresponding traffic to be
   correlated.

   For security and privacy reasons, the IIDs generated for temporary
   addresses must not be predictable.  Otherwise, the node may be
   subject to many (if not all) of the security and privacy issues that
   are meant to be mitigated (please see [RFC7721].

   Any semantics or patterns in an IID might be leveraged by an attacker
   to e.g.  reduce the search space when performing address-scanning
   attacks, infer the identity of the node, etc.

4.  Generation of Temporary IPv6 Addresses

   One possible algorithm for generating temporary IPv6 addresses is
   that specified in [RFC4941].

      TODO: if this draft was to obsolete RFC4941, instead of merely
      replace it, we would need to include here the actual specification
      of the address generation algorithm.

   Another possible approach would be to select a random IID when
   performing SLAAC.  In this case, a node that disconnects from the
   network and subsequently reconnects would employ a (statistically
   different) IID for the same prefix.  A different (random) IID should
   be employed for each autoconfiguration prefix.  These addresses, as
   opposed to the temporary addresses specified in RFC4941, would be
   stable for as long as the node stays attached (without disconnecting)
   to the network, but would change when a node reconnects.

      TODO: in addition to a generation algorithm, we need to also
      specify that addresses can have a variable lifetime, instead of
      just using the "periodic update" specified in [RFC4941].

      TODO: need a discussion of "renumbering trigger", such as what to
      do when the browser requires to "delete history".  Such events
      mark the start of a "privacy epoch", and should trigger creation
      of new temporary addresses and deprecation of the existing
      addresses.







Gont, et al.           Expires September 13, 2017               [Page 5]

Internet-Draft           Temporary Interface-IDs              March 2017


5.  Update to existing RFCs

   The following subsections clarify how each of the RFCs affected by
   this document are updated.

5.1.  Update to RFC4941

   The temporary addresses specified in [RFC4941] MAY be used in
   replacement of the stable addresses [I-D.ietf-6man-default-iids].
   That is, a node MAY configure temporary addresses only, without
   configuring any stable addresses.

6.  Future Work

   This document clarifies the requirements for stability requirements
   for IPv6 addresses.  A subsequent document will discuss the tradeoffs
   involved when considering different stability properties of IPv6
   addresses, and and the different configuration setups such as: stable
   addresses only, temporary addresses only, or mixed stable and
   temporary addresses.

7.  IANA Considerations

   There are no IANA registries within this document.  The RFC-Editor
   can remove this section before publication of this document as an
   RFC.

8.  Security Considerations

   This document clarifies the stability requirements for IPv6
   addresses, and specifies requirements for the generation of temporary
   addresses.  Additionally, it formally updates [RFC4941] such that
   stable addresses are not required to be configured along with the
   temporary addresses.

9.  Acknowledgements

   The authors would like to thank (in alphabetical order) Brian
   Carpenter and Lorenzo Colitti for providing valuable feedback on
   earlier versions of this document.

10.  References

10.1.  Normative References







Gont, et al.           Expires September 13, 2017               [Page 6]

Internet-Draft           Temporary Interface-IDs              March 2017


   [I-D.ietf-6man-default-iids]
              Gont, F., Cooper, A., Thaler, D., and S. LIU,
              "Recommendation on Stable IPv6 Interface Identifiers",
              draft-ietf-6man-default-iids-16 (work in progress),
              September 2016.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <http://www.rfc-editor.org/info/rfc2119>.

   [RFC4862]  Thomson, S., Narten, T., and T. Jinmei, "IPv6 Stateless
              Address Autoconfiguration", RFC 4862,
              DOI 10.17487/RFC4862, September 2007,
              <http://www.rfc-editor.org/info/rfc4862>.

   [RFC4941]  Narten, T., Draves, R., and S. Krishnan, "Privacy
              Extensions for Stateless Address Autoconfiguration in
              IPv6", RFC 4941, DOI 10.17487/RFC4941, September 2007,
              <http://www.rfc-editor.org/info/rfc4941>.

10.2.  Informative References

   [I-D.gont-predictable-numeric-ids]
              Gont, F. and I. Arce, "Security and Privacy Implications
              of Numeric Identifiers Employed in Network Protocols",
              draft-gont-predictable-numeric-ids-00 (work in progress),
              February 2016.

   [IETFMACRandom]
              Zuniga, JC., "MAC Privacy", November 2014,
              <http://www.ietf.org/blog/2014/11/mac-privacy/>.

   [RFC6973]  Cooper, A., Tschofenig, H., Aboba, B., Peterson, J.,
              Morris, J., Hansen, M., and R. Smith, "Privacy
              Considerations for Internet Protocols", RFC 6973,
              DOI 10.17487/RFC6973, July 2013,
              <http://www.rfc-editor.org/info/rfc6973>.

   [RFC7258]  Farrell, S. and H. Tschofenig, "Pervasive Monitoring Is an
              Attack", BCP 188, RFC 7258, DOI 10.17487/RFC7258, May
              2014, <http://www.rfc-editor.org/info/rfc7258>.









Gont, et al.           Expires September 13, 2017               [Page 7]

Internet-Draft           Temporary Interface-IDs              March 2017


   [RFC7624]  Barnes, R., Schneier, B., Jennings, C., Hardie, T.,
              Trammell, B., Huitema, C., and D. Borkmann,
              "Confidentiality in the Face of Pervasive Surveillance: A
              Threat Model and Problem Statement", RFC 7624,
              DOI 10.17487/RFC7624, August 2015,
              <http://www.rfc-editor.org/info/rfc7624>.

   [RFC7721]  Cooper, A., Gont, F., and D. Thaler, "Security and Privacy
              Considerations for IPv6 Address Generation Mechanisms",
              RFC 7721, DOI 10.17487/RFC7721, March 2016,
              <http://www.rfc-editor.org/info/rfc7721>.

   [RFC7844]  Huitema, C., Mrugalski, T., and S. Krishnan, "Anonymity
              Profiles for DHCP Clients", RFC 7844,
              DOI 10.17487/RFC7844, May 2016,
              <http://www.rfc-editor.org/info/rfc7844>.

   [RTB25]    Interactive Advertising Bureau (IAB), "Real Time Bidding
              (RTB) project, OpenRTB API Specification Version 2.5",
              December 2016, <http://www.iab.com/wp-
              content/uploads/2016/03/
              OpenRTB-API-Specification-Version-2-5-FINAL.pdf>.

Authors' Addresses

   Fernando Gont
   SI6 Networks / UTN-FRH
   Evaristo Carriego 2644
   Haedo, Provincia de Buenos Aires  1706
   Argentina

   Phone: +54 11 4650 8472
   Email: fgont@si6networks.com
   URI:   http://www.si6networks.com


   Will Liu
   Huawei Technologies
   Bantian, Longgang District
   Shenzhen  518129
   P.R. China

   Email: liushucheng@huawei.com








Gont, et al.           Expires September 13, 2017               [Page 8]

Internet-Draft           Temporary Interface-IDs              March 2017


   Christian Huitema
   Private Octopus Inc.
   Friday Harbor, WA  98250
   U.S.A.

   Email: huitema@huitema.net
   URI:   http://privateoctopus.com/












































Gont, et al.           Expires September 13, 2017               [Page 9]
